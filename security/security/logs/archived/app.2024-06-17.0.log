2024-06-17 12:26:50,775 INFO com.example.security.SecurityApplication [restartedMain] Starting SecurityApplication using Java 22 on DESKTOP-40VJ4D1 with PID 12284 (C:\Users\Milica\OneDrive\Radna površina\kt2-bsep\bsep-ra-2024-kt2-tim-4\security\security\target\classes started by Milica in C:\Users\Milica\OneDrive\Radna površina\kt2-bsep\bsep-ra-2024-kt2-tim-4\security\security)
2024-06-17 12:26:50,786 INFO com.example.security.SecurityApplication [restartedMain] No active profile set, falling back to default profiles: default
2024-06-17 12:26:50,846 INFO org.springframework.boot.devtools.env.DevToolsPropertyDefaultsPostProcessor [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-06-17 12:26:50,846 INFO org.springframework.boot.devtools.env.DevToolsPropertyDefaultsPostProcessor [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-06-17 12:26:52,570 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-06-17 12:26:52,687 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 109 ms. Found 11 JPA repository interfaces.
2024-06-17 12:26:53,066 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$EnhancerBySpringCGLIB$$9e16543d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-17 12:26:53,111 INFO org.springframework.ws.soap.addressing.server.AnnotationActionEndpointMapping [restartedMain] Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2024-06-17 12:26:53,159 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@382a45ce' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-17 12:26:53,168 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-06-17 12:26:53,597 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8443 (https)
2024-06-17 12:26:53,608 INFO org.apache.catalina.core.StandardService [restartedMain] Starting service [Tomcat]
2024-06-17 12:26:53,608 INFO org.apache.catalina.core.StandardEngine [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.48]
2024-06-17 12:26:53,722 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [restartedMain] Initializing Spring embedded WebApplicationContext
2024-06-17 12:26:53,723 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2876 ms
2024-06-17 12:26:53,854 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2024-06-17 12:26:54,026 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2024-06-17 12:26:54,033 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/security'
2024-06-17 12:26:54,311 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-06-17 12:26:54,396 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate ORM core version 5.4.32.Final
2024-06-17 12:26:54,593 INFO org.hibernate.annotations.common.Version [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-06-17 12:26:54,728 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2024-06-17 12:26:55,742 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table advertisement 
       add constraint FKp8yfhkalgy3vgab7c06ws8yja 
       foreign key (clientid) 
       references clients" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table advertisement 
       add constraint FKp8yfhkalgy3vgab7c06ws8yja 
       foreign key (clientid) 
       references clients" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:562)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:507)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:433)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:249)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:184)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:318)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)
	at com.example.security.SecurityApplication.main(SecurityApplication.java:13)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: insert or update on table "advertisement" violates foreign key constraint "fkp8yfhkalgy3vgab7c06ws8yja"
  Detail: Key (clientid)=(15) is not present in table "clients".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:290)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 36 common frames omitted
2024-06-17 12:26:55,755 WARN org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [restartedMain] GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table advertisement_request 
       add constraint FKcvp6ou0grs9vsfhto0n9rmvyg 
       foreign key (clientid) 
       references clients" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table advertisement_request 
       add constraint FKcvp6ou0grs9vsfhto0n9rmvyg 
       foreign key (clientid) 
       references clients" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:562)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:507)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:433)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:249)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:184)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:318)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)
	at com.example.security.SecurityApplication.main(SecurityApplication.java:13)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.postgresql.util.PSQLException: ERROR: insert or update on table "advertisement_request" violates foreign key constraint "fkcvp6ou0grs9vsfhto0n9rmvyg"
  Detail: Key (clientid)=(15) is not present in table "clients".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:290)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 36 common frames omitted
2024-06-17 12:26:55,815 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-06-17 12:26:55,824 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-06-17 12:26:57,328 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='api/notAuthenticated/visiting/**', GET] with []
2024-06-17 12:26:57,329 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='api/auth/login', POST] with []
2024-06-17 12:26:57,329 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='api/auth/setNewPassword', POST] with []
2024-06-17 12:26:57,329 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='api/auth/resetPassword', POST] with []
2024-06-17 12:26:57,329 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='api/vpn', POST] with []
2024-06-17 12:26:57,330 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='api/auth/verify', POST] with []
2024-06-17 12:26:57,330 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='api/auth/passwordlesslogin', POST] with []
2024-06-17 12:26:57,330 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='api/auth/passwordlessAuth', POST] with []
2024-06-17 12:26:57,330 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='api/auth/regeneratingJwtToken', POST] with []
2024-06-17 12:26:57,330 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='api/user/activate', GET] with []
2024-06-17 12:26:57,330 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='api/user/changePassword', PUT] with []
2024-06-17 12:26:57,331 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='/', GET] with []
2024-06-17 12:26:57,331 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='/webjars/**', GET] with []
2024-06-17 12:26:57,331 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='/*.html', GET] with []
2024-06-17 12:26:57,331 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='favicon.ico', GET] with []
2024-06-17 12:26:57,331 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='/**/*.html', GET] with []
2024-06-17 12:26:57,332 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='/**/*.css', GET] with []
2024-06-17 12:26:57,332 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='/**/*.js', GET] with []
2024-06-17 12:26:57,332 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure Ant [pattern='/ws/**', GET] with []
2024-06-17 12:26:57,581 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 2 endpoint(s) beneath base path '/actuator'
2024-06-17 12:26:57,614 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b24d87b, org.springframework.security.web.context.SecurityContextPersistenceFilter@46c77f08, org.springframework.security.web.header.HeaderWriterFilter@231aafba, org.springframework.web.filter.CorsFilter@6c2a1533, org.springframework.security.web.authentication.logout.LogoutFilter@5e2a63ea, com.example.security.auth.TokenAuthenticationFilter@73c74f28, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3db158a3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@546a9138, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11be4d40, org.springframework.security.web.session.SessionManagementFilter@49ac3fd6, org.springframework.security.web.access.ExceptionTranslationFilter@5cf6812b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@347e8961]
2024-06-17 12:26:58,010 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2024-06-17 12:26:58,102 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8443 (https) with context path ''
2024-06-17 12:26:58,105 INFO org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler [restartedMain] Starting...
2024-06-17 12:26:58,105 INFO org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler [restartedMain] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@37fd13f3]]
2024-06-17 12:26:58,105 INFO org.springframework.messaging.simp.broker.SimpleBrokerMessageHandler [restartedMain] Started.
2024-06-17 12:26:58,121 INFO com.example.security.SecurityApplication [restartedMain] Started SecurityApplication in 7.749 seconds (JVM running for 18.079)
2024-06-17 12:27:57,653 INFO org.springframework.web.socket.config.WebSocketMessageBrokerStats [MessageBroker-2] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 1, completed tasks = 1]
2024-06-17 12:28:10,345 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [https-jsse-nio-8443-exec-3] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-17 12:28:10,346 INFO org.springframework.web.servlet.DispatcherServlet [https-jsse-nio-8443-exec-3] Initializing Servlet 'dispatcherServlet'
2024-06-17 12:28:10,348 INFO org.springframework.web.servlet.DispatcherServlet [https-jsse-nio-8443-exec-3] Completed initialization in 2 ms
2024-06-17 12:28:10,454 INFO com.example.security.controller.AuthenticationController [https-jsse-nio-8443-exec-6] createAuthenticationToken method in AuthenticationController started.
2024-06-17 12:28:10,454 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-6] findByEmail method in UserService started.
2024-06-17 12:28:10,731 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-6] findByEmail method in UserService ended.
2024-06-17 12:28:10,817 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-6] Loading user by username: milicavujic2001@gmail.com
2024-06-17 12:28:11,178 INFO com.example.security.service.TfaAuthentication [https-jsse-nio-8443-exec-6] generateQRCodeUri method started.
2024-06-17 12:28:11,389 INFO com.example.security.service.TfaAuthentication [https-jsse-nio-8443-exec-6] generateQRCodeUri method finished.
2024-06-17 12:28:22,887 INFO com.example.security.controller.AuthenticationController [https-jsse-nio-8443-exec-8] verifyTfaCode method in AuthenticationController started.
2024-06-17 12:28:22,888 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-8] findByEmail method in UserService started.
2024-06-17 12:28:23,148 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-8] findByEmail method in UserService ended.
2024-06-17 12:28:23,148 INFO com.example.security.service.TfaAuthentication [https-jsse-nio-8443-exec-8] isOtpValid method started.
2024-06-17 12:28:23,152 INFO com.example.security.service.RoleService [https-jsse-nio-8443-exec-8] findByName method started.
2024-06-17 12:28:23,273 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-10] Loading user by username: milicavujic2001@gmail.com
2024-06-17 12:28:23,554 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-10] getUser method in UserController started.
2024-06-17 12:28:23,554 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-10] findByEmail method in UserService started.
2024-06-17 12:28:23,771 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-10] findByEmail method in UserService ended.
2024-06-17 12:28:23,807 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-2] Loading user by username: milicavujic2001@gmail.com
2024-06-17 12:28:24,032 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-2] authenticateUser method in UserController started.
2024-06-17 12:28:24,033 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-2] findByEmail method in UserService started.
2024-06-17 12:28:24,295 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-2] findByEmail method in UserService ended.
2024-06-17 12:28:27,533 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-4] Loading user by username: milicavujic2001@gmail.com
2024-06-17 12:28:27,791 INFO com.example.security.controller.VPNController [https-jsse-nio-8443-exec-4] getMessage method in VPNController started.
2024-06-17 12:28:30,662 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-3] Loading user by username: milicavujic2001@gmail.com
2024-06-17 12:28:30,904 INFO com.example.security.controller.VPNController [https-jsse-nio-8443-exec-3] getMessage method in VPNController started.
2024-06-17 12:28:33,170 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-6] Loading user by username: milicavujic2001@gmail.com
2024-06-17 12:28:33,393 INFO com.example.security.controller.VPNController [https-jsse-nio-8443-exec-6] getMessage method in VPNController started.
2024-06-17 12:28:41,536 INFO com.example.security.controller.AuthenticationController [https-jsse-nio-8443-exec-8] resetPassword method in AuthenticationController started.
2024-06-17 12:28:41,538 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-8] findByEmail method in UserService started.
2024-06-17 12:28:41,863 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-8] findByEmail method in UserService ended.
2024-06-17 12:28:42,979 INFO com.example.security.service.EmailService [https-jsse-nio-8443-exec-8] Sending reset token email to: milicavujic2001@gmail.com
2024-06-17 12:28:46,143 INFO com.example.security.service.EmailService [https-jsse-nio-8443-exec-8] Reset token email sent successfully to: milicavujic2001@gmail.com
2024-06-17 12:29:08,653 INFO com.example.security.controller.AuthenticationController [https-jsse-nio-8443-exec-3] setNewPassword method in AuthenticationController started.
2024-06-17 12:29:08,654 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-3] findByEmail method in UserService started.
2024-06-17 12:29:08,960 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-3] findByEmail method in UserService ended.
2024-06-17 12:29:10,137 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-3] Password for user with email milicavujic2001@gmail.com has been updated.
2024-06-17 12:29:17,654 INFO com.example.security.controller.AuthenticationController [https-jsse-nio-8443-exec-6] createAuthenticationToken method in AuthenticationController started.
2024-06-17 12:29:17,656 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-6] findByEmail method in UserService started.
2024-06-17 12:29:17,963 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-6] findByEmail method in UserService ended.
2024-06-17 12:29:17,963 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-6] Loading user by username: milicavujic2001@gmail.com
2024-06-17 12:29:18,373 INFO com.example.security.service.TfaAuthentication [https-jsse-nio-8443-exec-6] generateQRCodeUri method started.
2024-06-17 12:29:18,444 INFO com.example.security.service.TfaAuthentication [https-jsse-nio-8443-exec-6] generateQRCodeUri method finished.
2024-06-17 12:29:28,784 INFO com.example.security.controller.AuthenticationController [https-jsse-nio-8443-exec-7] verifyTfaCode method in AuthenticationController started.
2024-06-17 12:29:28,785 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-7] findByEmail method in UserService started.
2024-06-17 12:29:29,098 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-7] findByEmail method in UserService ended.
2024-06-17 12:29:29,098 INFO com.example.security.service.TfaAuthentication [https-jsse-nio-8443-exec-7] isOtpValid method started.
2024-06-17 12:29:29,098 INFO com.example.security.service.RoleService [https-jsse-nio-8443-exec-7] findByName method started.
2024-06-17 12:29:29,113 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-8] Loading user by username: milicavujic2001@gmail.com
2024-06-17 12:29:29,426 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-8] getUser method in UserController started.
2024-06-17 12:29:29,426 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-8] findByEmail method in UserService started.
2024-06-17 12:29:29,765 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-8] findByEmail method in UserService ended.
2024-06-17 12:29:29,775 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-9] Loading user by username: milicavujic2001@gmail.com
2024-06-17 12:29:30,076 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-9] authenticateUser method in UserController started.
2024-06-17 12:29:30,077 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-9] findByEmail method in UserService started.
2024-06-17 12:29:30,388 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-9] findByEmail method in UserService ended.
2024-06-17 12:29:38,677 INFO com.example.security.controller.AuthenticationController [https-jsse-nio-8443-exec-10] resetPassword method in AuthenticationController started.
2024-06-17 12:29:38,677 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-10] findByEmail method in UserService started.
2024-06-17 12:29:38,680 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-10] findByEmail method in UserService ended.
2024-06-17 12:41:03,215 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=11m9s33ms362µs900ns).
2024-06-17 13:00:00,520 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=13m24s810ms404µs400ns).
2024-06-17 13:00:38,277 INFO com.example.security.controller.RegistrationRequestController [https-jsse-nio-8443-exec-6] createRegistrationRequest method in RegistrationRequestController started.
2024-06-17 13:00:38,278 INFO com.example.security.service.RegistrationRequestService [https-jsse-nio-8443-exec-6] Starting retrieval of all registration requests
2024-06-17 13:00:38,311 ERROR com.example.security.service.RegistrationRequestService [https-jsse-nio-8443-exec-6] Error occurred during retrieval of all registration requests: Cannot invoke "javax.crypto.SecretKey.getEncoded()" because "secretKey" is null
java.lang.NullPointerException: Cannot invoke "javax.crypto.SecretKey.getEncoded()" because "secretKey" is null
	at com.example.security.service.EncryptionUtil.convertSecretKeyToString(EncryptionUtil.java:277)
	at com.example.security.service.EncryptionUtil.decryptRequest(EncryptionUtil.java:182)
	at com.example.security.model.RegistrationRequestListener.decrypt(RegistrationRequestListener.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.hibernate.jpa.event.internal.ListenerCallback.performCallback(ListenerCallback.java:35)
	at org.hibernate.jpa.event.internal.CallbackRegistryImpl.callback(CallbackRegistryImpl.java:95)
	at org.hibernate.jpa.event.internal.CallbackRegistryImpl.postLoad(CallbackRegistryImpl.java:89)
	at org.hibernate.event.internal.DefaultPostLoadEventListener.onPostLoad(DefaultPostLoadEventListener.java:43)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.FastSessionServices.firePostLoadEvent(FastSessionServices.java:343)
	at org.hibernate.engine.internal.TwoPhaseLoad.postLoad(TwoPhaseLoad.java:483)
	at org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1224)
	at org.hibernate.loader.Loader.processResultSet(Loader.java:1001)
	at org.hibernate.loader.Loader.doQuery(Loader.java:959)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349)
	at org.hibernate.loader.Loader.doList(Loader.java:2843)
	at org.hibernate.loader.Loader.doList(Loader.java:2825)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657)
	at org.hibernate.loader.Loader.list(Loader.java:2652)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414)
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636)
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604)
	at org.hibernate.query.Query.getResultList(Query.java:165)
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:396)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy4/jdk.proxy4.$Proxy152.findAll(Unknown Source)
	at com.example.security.service.RegistrationRequestService.findAll(RegistrationRequestService.java:101)
	at com.example.security.controller.RegistrationRequestController.createRegistrationRequest(RegistrationRequestController.java:42)
	at com.example.security.controller.RegistrationRequestController$$FastClassBySpringCGLIB$$16b3ba1d.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.example.security.controller.RegistrationRequestController$$EnhancerBySpringCGLIB$$d73afa6.createRegistrationRequest(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at com.example.security.auth.TokenAuthenticationFilter.doFilterInternal(TokenAuthenticationFilter.java:69)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)
2024-06-17 13:00:38,312 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-6] findByEmail method in UserService started.
2024-06-17 13:00:38,317 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-6] findByEmail method in UserService ended.
2024-06-17 13:00:38,317 INFO com.example.security.service.RegistrationRequestService [https-jsse-nio-8443-exec-6] Saving registration request for user 'anja.lovric@gmail.com'
2024-06-17 13:00:38,521 INFO com.example.security.service.RegistrationRequestService [https-jsse-nio-8443-exec-6] Registration request KnoORaUjNJWkgWonYySkJBtyG7i+fB+lLS5fRBjOixE= has been saved.
2024-06-17 13:00:48,314 INFO com.example.security.controller.AuthenticationController [https-jsse-nio-8443-exec-8] createAuthenticationToken method in AuthenticationController started.
2024-06-17 13:00:48,315 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-8] findByEmail method in UserService started.
2024-06-17 13:00:48,647 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-8] findByEmail method in UserService ended.
2024-06-17 13:00:48,647 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-8] Loading user by username: milicavujic2001@gmail.com
2024-06-17 13:00:49,073 INFO com.example.security.service.TfaAuthentication [https-jsse-nio-8443-exec-8] generateQRCodeUri method started.
2024-06-17 13:00:49,107 INFO com.example.security.service.TfaAuthentication [https-jsse-nio-8443-exec-8] generateQRCodeUri method finished.
2024-06-17 13:00:54,813 INFO org.springframework.web.socket.config.WebSocketMessageBrokerStats [MessageBroker-10] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 14, active threads = 2, queued tasks = 0, completed tasks = 12]
2024-06-17 13:00:57,728 INFO com.example.security.controller.AuthenticationController [https-jsse-nio-8443-exec-10] verifyTfaCode method in AuthenticationController started.
2024-06-17 13:00:57,729 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-10] findByEmail method in UserService started.
2024-06-17 13:00:58,035 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-10] findByEmail method in UserService ended.
2024-06-17 13:00:58,036 INFO com.example.security.service.TfaAuthentication [https-jsse-nio-8443-exec-10] isOtpValid method started.
2024-06-17 13:00:58,036 INFO com.example.security.service.RoleService [https-jsse-nio-8443-exec-10] findByName method started.
2024-06-17 13:00:58,054 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-2] Loading user by username: milicavujic2001@gmail.com
2024-06-17 13:00:58,374 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-2] getUser method in UserController started.
2024-06-17 13:00:58,374 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-2] findByEmail method in UserService started.
2024-06-17 13:00:58,700 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-2] findByEmail method in UserService ended.
2024-06-17 13:00:58,714 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-4] Loading user by username: milicavujic2001@gmail.com
2024-06-17 13:00:59,040 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-4] authenticateUser method in UserController started.
2024-06-17 13:00:59,040 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-4] findByEmail method in UserService started.
2024-06-17 13:00:59,340 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-4] findByEmail method in UserService ended.
2024-06-17 13:01:02,502 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-3] Loading user by username: milicavujic2001@gmail.com
2024-06-17 13:01:02,743 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-3] authenticateUser method in UserController started.
2024-06-17 13:01:02,743 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-3] findByEmail method in UserService started.
2024-06-17 13:01:02,996 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-3] findByEmail method in UserService ended.
2024-06-17 13:01:03,019 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-7] Loading user by username: milicavujic2001@gmail.com
2024-06-17 13:01:03,248 INFO com.example.security.service.PermissionService [https-jsse-nio-8443-exec-7] Checking permission 'ALL_REG_REQ' for user
2024-06-17 13:01:03,248 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-7] findByEmail method in UserService started.
2024-06-17 13:01:03,492 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-7] findByEmail method in UserService ended.
2024-06-17 13:01:03,492 INFO com.example.security.service.PermissionService [https-jsse-nio-8443-exec-7] Permission 'ALL_REG_REQ' check for user 'milicavujic2001@gmail.com' completed. Result: true
2024-06-17 13:01:03,493 INFO com.example.security.controller.RegistrationRequestController [https-jsse-nio-8443-exec-7] getAllRegistrationRequests method in RegistrationRequestController started.
2024-06-17 13:01:03,493 INFO com.example.security.service.RegistrationRequestService [https-jsse-nio-8443-exec-7] Starting retrieval of all registration requests
2024-06-17 13:01:03,502 ERROR com.example.security.service.RegistrationRequestService [https-jsse-nio-8443-exec-7] Error occurred during retrieval of all registration requests: Cannot invoke "javax.crypto.SecretKey.getEncoded()" because "secretKey" is null
java.lang.NullPointerException: Cannot invoke "javax.crypto.SecretKey.getEncoded()" because "secretKey" is null
	at com.example.security.service.EncryptionUtil.convertSecretKeyToString(EncryptionUtil.java:277)
	at com.example.security.service.EncryptionUtil.decryptRequest(EncryptionUtil.java:182)
	at com.example.security.model.RegistrationRequestListener.decrypt(RegistrationRequestListener.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.hibernate.jpa.event.internal.ListenerCallback.performCallback(ListenerCallback.java:35)
	at org.hibernate.jpa.event.internal.CallbackRegistryImpl.callback(CallbackRegistryImpl.java:95)
	at org.hibernate.jpa.event.internal.CallbackRegistryImpl.postLoad(CallbackRegistryImpl.java:89)
	at org.hibernate.event.internal.DefaultPostLoadEventListener.onPostLoad(DefaultPostLoadEventListener.java:43)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.FastSessionServices.firePostLoadEvent(FastSessionServices.java:343)
	at org.hibernate.engine.internal.TwoPhaseLoad.postLoad(TwoPhaseLoad.java:483)
	at org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1224)
	at org.hibernate.loader.Loader.processResultSet(Loader.java:1001)
	at org.hibernate.loader.Loader.doQuery(Loader.java:959)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349)
	at org.hibernate.loader.Loader.doList(Loader.java:2843)
	at org.hibernate.loader.Loader.doList(Loader.java:2825)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657)
	at org.hibernate.loader.Loader.list(Loader.java:2652)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414)
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636)
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604)
	at org.hibernate.query.Query.getResultList(Query.java:165)
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:396)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy4/jdk.proxy4.$Proxy152.findAll(Unknown Source)
	at com.example.security.service.RegistrationRequestService.findAll(RegistrationRequestService.java:101)
	at com.example.security.controller.RegistrationRequestController.getAllRegistrationRequests(RegistrationRequestController.java:73)
	at com.example.security.controller.RegistrationRequestController$$FastClassBySpringCGLIB$$16b3ba1d.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.example.security.controller.RegistrationRequestController$$EnhancerBySpringCGLIB$$d73afa6.getAllRegistrationRequests(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at com.example.security.auth.TokenAuthenticationFilter.doFilterInternal(TokenAuthenticationFilter.java:69)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)
2024-06-17 13:01:11,634 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-8] Loading user by username: milicavujic2001@gmail.com
2024-06-17 13:01:11,964 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-8] authenticateUser method in UserController started.
2024-06-17 13:01:11,965 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-8] findByEmail method in UserService started.
2024-06-17 13:01:12,307 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-8] findByEmail method in UserService ended.
2024-06-17 13:01:12,324 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-9] Loading user by username: milicavujic2001@gmail.com
2024-06-17 13:01:12,649 INFO com.example.security.service.PermissionService [https-jsse-nio-8443-exec-9] Checking permission 'ALL_REG_REQ' for user
2024-06-17 13:01:12,649 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-9] findByEmail method in UserService started.
2024-06-17 13:01:12,972 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-9] findByEmail method in UserService ended.
2024-06-17 13:01:12,972 INFO com.example.security.service.PermissionService [https-jsse-nio-8443-exec-9] Permission 'ALL_REG_REQ' check for user 'milicavujic2001@gmail.com' completed. Result: true
2024-06-17 13:01:12,973 INFO com.example.security.controller.RegistrationRequestController [https-jsse-nio-8443-exec-9] getAllRegistrationRequests method in RegistrationRequestController started.
2024-06-17 13:01:12,973 INFO com.example.security.service.RegistrationRequestService [https-jsse-nio-8443-exec-9] Starting retrieval of all registration requests
2024-06-17 13:01:12,977 ERROR com.example.security.service.RegistrationRequestService [https-jsse-nio-8443-exec-9] Error occurred during retrieval of all registration requests: Cannot invoke "javax.crypto.SecretKey.getEncoded()" because "secretKey" is null
java.lang.NullPointerException: Cannot invoke "javax.crypto.SecretKey.getEncoded()" because "secretKey" is null
	at com.example.security.service.EncryptionUtil.convertSecretKeyToString(EncryptionUtil.java:277)
	at com.example.security.service.EncryptionUtil.decryptRequest(EncryptionUtil.java:182)
	at com.example.security.model.RegistrationRequestListener.decrypt(RegistrationRequestListener.java:23)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.hibernate.jpa.event.internal.ListenerCallback.performCallback(ListenerCallback.java:35)
	at org.hibernate.jpa.event.internal.CallbackRegistryImpl.callback(CallbackRegistryImpl.java:95)
	at org.hibernate.jpa.event.internal.CallbackRegistryImpl.postLoad(CallbackRegistryImpl.java:89)
	at org.hibernate.event.internal.DefaultPostLoadEventListener.onPostLoad(DefaultPostLoadEventListener.java:43)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.FastSessionServices.firePostLoadEvent(FastSessionServices.java:343)
	at org.hibernate.engine.internal.TwoPhaseLoad.postLoad(TwoPhaseLoad.java:483)
	at org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1224)
	at org.hibernate.loader.Loader.processResultSet(Loader.java:1001)
	at org.hibernate.loader.Loader.doQuery(Loader.java:959)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349)
	at org.hibernate.loader.Loader.doList(Loader.java:2843)
	at org.hibernate.loader.Loader.doList(Loader.java:2825)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657)
	at org.hibernate.loader.Loader.list(Loader.java:2652)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414)
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636)
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604)
	at org.hibernate.query.Query.getResultList(Query.java:165)
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:396)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy4/jdk.proxy4.$Proxy152.findAll(Unknown Source)
	at com.example.security.service.RegistrationRequestService.findAll(RegistrationRequestService.java:101)
	at com.example.security.controller.RegistrationRequestController.getAllRegistrationRequests(RegistrationRequestController.java:73)
	at com.example.security.controller.RegistrationRequestController$$FastClassBySpringCGLIB$$16b3ba1d.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.example.security.controller.RegistrationRequestController$$EnhancerBySpringCGLIB$$d73afa6.getAllRegistrationRequests(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at com.example.security.auth.TokenAuthenticationFilter.doFilterInternal(TokenAuthenticationFilter.java:69)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)
2024-06-17 13:02:08,851 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-10] Loading user by username: milicavujic2001@gmail.com
2024-06-17 13:02:09,176 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-10] authenticateUser method in UserController started.
2024-06-17 13:02:09,177 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-10] findByEmail method in UserService started.
2024-06-17 13:02:09,471 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-10] findByEmail method in UserService ended.
2024-06-17 13:03:09,501 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-2] Loading user by username: milicavujic2001@gmail.com
2024-06-17 13:03:09,833 INFO com.example.security.service.PermissionService [https-jsse-nio-8443-exec-2] Checking permission 'ADMIN_PROFILE' for user
2024-06-17 13:03:09,833 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-2] findByEmail method in UserService started.
2024-06-17 13:03:10,126 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-2] findByEmail method in UserService ended.
2024-06-17 13:03:10,126 INFO com.example.security.service.PermissionService [https-jsse-nio-8443-exec-2] Permission 'ADMIN_PROFILE' check for user 'milicavujic2001@gmail.com' completed. Result: true
2024-06-17 13:03:10,127 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-2] criticalEvents method in UserController started.
2024-06-17 13:04:09,493 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-5] Loading user by username: milicavujic2001@gmail.com
2024-06-17 13:04:09,730 INFO com.example.security.service.PermissionService [https-jsse-nio-8443-exec-5] Checking permission 'ADMIN_PROFILE' for user
2024-06-17 13:04:09,730 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-5] findByEmail method in UserService started.
2024-06-17 13:04:09,980 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-5] findByEmail method in UserService ended.
2024-06-17 13:04:09,980 INFO com.example.security.service.PermissionService [https-jsse-nio-8443-exec-5] Permission 'ADMIN_PROFILE' check for user 'milicavujic2001@gmail.com' completed. Result: true
2024-06-17 13:04:09,980 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-5] criticalEvents method in UserController started.
2024-06-17 13:04:31,059 INFO com.example.security.controller.AuthenticationController [https-jsse-nio-8443-exec-4] createAuthenticationToken method in AuthenticationController started.
2024-06-17 13:04:31,059 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-4] findByEmail method in UserService started.
2024-06-17 13:04:31,290 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-4] findByEmail method in UserService ended.
2024-06-17 13:04:31,291 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-4] Loading user by username: milicavujic2001@gmail.com
2024-06-17 13:04:31,625 INFO com.example.security.service.TfaAuthentication [https-jsse-nio-8443-exec-4] generateQRCodeUri method started.
2024-06-17 13:04:31,634 INFO com.example.security.service.TfaAuthentication [https-jsse-nio-8443-exec-4] generateQRCodeUri method finished.
2024-06-17 13:04:40,600 INFO com.example.security.controller.AuthenticationController [https-jsse-nio-8443-exec-3] verifyTfaCode method in AuthenticationController started.
2024-06-17 13:04:40,600 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-3] findByEmail method in UserService started.
2024-06-17 13:04:40,856 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-3] findByEmail method in UserService ended.
2024-06-17 13:04:40,857 INFO com.example.security.service.TfaAuthentication [https-jsse-nio-8443-exec-3] isOtpValid method started.
2024-06-17 13:04:40,857 INFO com.example.security.service.RoleService [https-jsse-nio-8443-exec-3] findByName method started.
2024-06-17 13:04:40,865 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-6] Loading user by username: milicavujic2001@gmail.com
2024-06-17 13:04:41,075 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-6] getUser method in UserController started.
2024-06-17 13:04:41,075 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-6] findByEmail method in UserService started.
2024-06-17 13:04:41,319 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-6] findByEmail method in UserService ended.
2024-06-17 13:04:41,327 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-7] Loading user by username: milicavujic2001@gmail.com
2024-06-17 13:04:41,573 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-7] authenticateUser method in UserController started.
2024-06-17 13:04:41,573 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-7] findByEmail method in UserService started.
2024-06-17 13:04:41,798 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-7] findByEmail method in UserService ended.
2024-06-17 13:14:02,941 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m32s315ms57µs600ns).
2024-06-17 13:20:37,106 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m4s98ms607µs500ns).
2024-06-17 13:30:54,819 INFO org.springframework.web.socket.config.WebSocketMessageBrokerStats [MessageBroker-9] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 1, completed tasks = 36]
2024-06-17 13:46:45,205 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m7s809ms958µs600ns).
2024-06-17 13:56:07,207 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m21s883ms96µs600ns).
2024-06-17 14:00:54,824 INFO org.springframework.web.socket.config.WebSocketMessageBrokerStats [MessageBroker-4] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 1, completed tasks = 60]
2024-06-17 14:10:24,132 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m46s847ms185µs200ns).
2024-06-17 14:10:34,021 INFO com.example.security.controller.AuthenticationController [https-jsse-nio-8443-exec-4] createAuthenticationToken method in AuthenticationController started.
2024-06-17 14:10:34,021 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-4] findByEmail method in UserService started.
2024-06-17 14:10:34,249 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-4] findByEmail method in UserService ended.
2024-06-17 14:10:34,250 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-4] Loading user by username: milicavujic2001@gmail.com
2024-06-17 14:10:34,593 INFO com.example.security.service.TfaAuthentication [https-jsse-nio-8443-exec-4] generateQRCodeUri method started.
2024-06-17 14:10:34,650 INFO com.example.security.service.TfaAuthentication [https-jsse-nio-8443-exec-4] generateQRCodeUri method finished.
2024-06-17 14:10:43,175 INFO com.example.security.controller.AuthenticationController [https-jsse-nio-8443-exec-6] verifyTfaCode method in AuthenticationController started.
2024-06-17 14:10:43,177 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-6] findByEmail method in UserService started.
2024-06-17 14:10:43,434 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-6] findByEmail method in UserService ended.
2024-06-17 14:10:43,434 INFO com.example.security.service.TfaAuthentication [https-jsse-nio-8443-exec-6] isOtpValid method started.
2024-06-17 14:10:43,434 INFO com.example.security.service.RoleService [https-jsse-nio-8443-exec-6] findByName method started.
2024-06-17 14:10:43,449 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-8] Loading user by username: milicavujic2001@gmail.com
2024-06-17 14:10:43,678 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-8] getUser method in UserController started.
2024-06-17 14:10:43,678 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-8] findByEmail method in UserService started.
2024-06-17 14:10:43,912 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-8] findByEmail method in UserService ended.
2024-06-17 14:10:43,922 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-10] Loading user by username: milicavujic2001@gmail.com
2024-06-17 14:10:44,166 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-10] authenticateUser method in UserController started.
2024-06-17 14:10:44,167 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-10] findByEmail method in UserService started.
2024-06-17 14:10:44,393 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-10] findByEmail method in UserService ended.
2024-06-17 14:10:46,475 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-2] Loading user by username: milicavujic2001@gmail.com
2024-06-17 14:10:46,735 INFO com.example.security.controller.VPNController [https-jsse-nio-8443-exec-2] getMessage method in VPNController started.
2024-06-17 14:10:49,451 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-5] Loading user by username: milicavujic2001@gmail.com
2024-06-17 14:10:49,692 INFO com.example.security.controller.VPNController [https-jsse-nio-8443-exec-5] getMessage method in VPNController started.
2024-06-17 14:10:52,631 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-4] Loading user by username: milicavujic2001@gmail.com
2024-06-17 14:10:52,870 INFO com.example.security.controller.VPNController [https-jsse-nio-8443-exec-4] getMessage method in VPNController started.
2024-06-17 14:11:44,412 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-6] Loading user by username: milicavujic2001@gmail.com
2024-06-17 14:11:44,663 INFO com.example.security.service.PermissionService [https-jsse-nio-8443-exec-6] Checking permission 'ADMIN_PROFILE' for user
2024-06-17 14:11:44,663 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-6] findByEmail method in UserService started.
2024-06-17 14:11:44,914 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-6] findByEmail method in UserService ended.
2024-06-17 14:11:44,915 INFO com.example.security.service.PermissionService [https-jsse-nio-8443-exec-6] Permission 'ADMIN_PROFILE' check for user 'milicavujic2001@gmail.com' completed. Result: true
2024-06-17 14:11:44,915 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-6] criticalEvents method in UserController started.
2024-06-17 14:12:44,408 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-7] Loading user by username: milicavujic2001@gmail.com
2024-06-17 14:12:44,619 INFO com.example.security.service.PermissionService [https-jsse-nio-8443-exec-7] Checking permission 'ADMIN_PROFILE' for user
2024-06-17 14:12:44,619 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-7] findByEmail method in UserService started.
2024-06-17 14:12:44,851 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-7] findByEmail method in UserService ended.
2024-06-17 14:12:44,851 INFO com.example.security.service.PermissionService [https-jsse-nio-8443-exec-7] Permission 'ADMIN_PROFILE' check for user 'milicavujic2001@gmail.com' completed. Result: true
2024-06-17 14:12:44,851 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-7] criticalEvents method in UserController started.
2024-06-17 14:13:44,407 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-8] Loading user by username: milicavujic2001@gmail.com
2024-06-17 14:13:44,657 INFO com.example.security.service.PermissionService [https-jsse-nio-8443-exec-8] Checking permission 'ADMIN_PROFILE' for user
2024-06-17 14:13:44,657 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-8] findByEmail method in UserService started.
2024-06-17 14:13:44,889 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-8] findByEmail method in UserService ended.
2024-06-17 14:13:44,889 INFO com.example.security.service.PermissionService [https-jsse-nio-8443-exec-8] Permission 'ADMIN_PROFILE' check for user 'milicavujic2001@gmail.com' completed. Result: true
2024-06-17 14:13:44,889 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-8] criticalEvents method in UserController started.
2024-06-17 14:14:44,415 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-9] Loading user by username: milicavujic2001@gmail.com
2024-06-17 14:14:44,660 INFO com.example.security.service.PermissionService [https-jsse-nio-8443-exec-9] Checking permission 'ADMIN_PROFILE' for user
2024-06-17 14:14:44,661 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-9] findByEmail method in UserService started.
2024-06-17 14:14:44,948 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-9] findByEmail method in UserService ended.
2024-06-17 14:14:44,948 INFO com.example.security.service.PermissionService [https-jsse-nio-8443-exec-9] Permission 'ADMIN_PROFILE' check for user 'milicavujic2001@gmail.com' completed. Result: true
2024-06-17 14:14:44,948 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-9] criticalEvents method in UserController started.
2024-06-17 14:15:44,415 INFO com.example.security.service.CustomUserDetailsService [https-jsse-nio-8443-exec-10] Loading user by username: milicavujic2001@gmail.com
2024-06-17 14:15:44,656 INFO com.example.security.service.PermissionService [https-jsse-nio-8443-exec-10] Checking permission 'ADMIN_PROFILE' for user
2024-06-17 14:15:44,656 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-10] findByEmail method in UserService started.
2024-06-17 14:15:44,900 INFO com.example.security.service.UserService [https-jsse-nio-8443-exec-10] findByEmail method in UserService ended.
2024-06-17 14:15:44,900 INFO com.example.security.service.PermissionService [https-jsse-nio-8443-exec-10] Permission 'ADMIN_PROFILE' check for user 'milicavujic2001@gmail.com' completed. Result: true
2024-06-17 14:15:44,900 INFO com.example.security.controller.UserController [https-jsse-nio-8443-exec-10] criticalEvents method in UserController started.
2024-06-17 17:33:49,963 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3h17m55s750ms340µs).
2024-06-17 17:34:24,856 INFO org.springframework.web.socket.config.WebSocketMessageBrokerStats [MessageBroker-8] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 16, active threads = 2, queued tasks = 0, completed tasks = 69]
2024-06-17 18:04:24,862 INFO org.springframework.web.socket.config.WebSocketMessageBrokerStats [MessageBroker-16] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 1, completed tasks = 101]
2024-06-17 18:15:25,333 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=53s560ms13µs).
2024-06-17 18:34:04,428 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m38s875ms767µs800ns).
2024-06-17 18:34:24,862 INFO org.springframework.web.socket.config.WebSocketMessageBrokerStats [MessageBroker-15] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 1, completed tasks = 129]
2024-06-17 18:42:31,905 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m27s404ms892µs100ns).
2024-06-17 19:04:24,866 INFO org.springframework.web.socket.config.WebSocketMessageBrokerStats [MessageBroker-3] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 1, completed tasks = 159]
2024-06-17 19:09:36,597 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m39s470ms679µs400ns).
2024-06-17 19:34:19,660 INFO org.springframework.web.socket.config.WebSocketMessageBrokerStats [MessageBroker-8] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 1, completed tasks = 189]
2024-06-17 20:04:19,670 INFO org.springframework.web.socket.config.WebSocketMessageBrokerStats [MessageBroker-3] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 1, completed tasks = 220]
2024-06-17 20:34:19,684 INFO org.springframework.web.socket.config.WebSocketMessageBrokerStats [MessageBroker-10] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 1, completed tasks = 251]
2024-06-17 20:54:05,282 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=12m27s142ms55µs900ns).
2024-06-17 21:04:19,699 INFO org.springframework.web.socket.config.WebSocketMessageBrokerStats [MessageBroker-6] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 1, completed tasks = 271]
2024-06-17 21:31:30,633 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=54s698ms940µs).
2024-06-17 21:34:19,709 INFO org.springframework.web.socket.config.WebSocketMessageBrokerStats [MessageBroker-9] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 1, completed tasks = 302]
